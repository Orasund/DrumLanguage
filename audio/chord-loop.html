<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js" ></script>
    <title>Tone.js Test</title>
  </head>

<body>

<h1>Demo</h1>

<script>
  //create a synth and connect it to the master output (your speakers)
  // create a synth
  const synth = new Tone.MembraneSynth().toMaster();

  // create an array of notes to be played
  const notes = ["C2", "C3", "Eb3", "G3", "Bb3"];

  // create a new sequence with the synth and notes
  const synthPart = new Tone.Sequence(
    function(time, note) {
      synth.triggerAttackRelease(note, "80hz", time);
    },
    notes,
    "4n"
  );

  // Setup the synth to be ready to play on beat 1
  synthPart.start();



  // Note that if you pass a time into the start method
  // you can specify when the synth part starts
  // e.g. .start('8n') will start after 1 eighth note

  // start the transport which controls the main timeline



  // Tone.Transport.start();

//  document.querySelector('button').addEventListener('click', () => Tone.start())

</script>


<!-- <button onMouseDown=this.startNote> -->


<button id="start-button">Start</button>

<button id="stop-button">Stop</button>

<script>

document.querySelectorAll("#start-button").forEach(function(button){
          button.addEventListener('mousedown', function(e){

            //play the note on mouse down
            console.log("Mouse down on Start")
            Tone.Transport.bpm.value = 160
            Tone.Transport.loop = false
            Tone.Transport.start();
            Tone.Transport.loop = false

     })})


document.querySelectorAll("#stop-button").forEach(function(button){
     button.addEventListener('mousedown', function(e){

            //play the note on mouse down
            console.log("Mouse down on Stop")

            Tone.Transport.stop();



      })})
</script>

</body>

</html>
